When doing POST/PATCH operations if validations fail a 400 is returned with the following body
  {errors: ['', ...]}
Note: This does not mean that all 400 responses are validation errors

If the status code is not 2xx, there were no validation errors, and it's not a redirect then the
following is the returned body
  {error: ''}

Operations that have optional or required authorization may do so with one of the three ways:
  1. A token field via URL query
  2. A token in the Authorization header(e.g. "Authorization: token <token>")
  3. A base64 encoded string in the format "<name>:<password>" in the Authorization header
    (e.g. "Authorization: basic <base64>")

API:
  POST /users:
    Data: <name>, <password>, <devicename>
    Return: {user: <user>}
    Msg: Creates a user if name is available, a device is created to have an initial token
  GET /users/{name}:
    Auth: optional
    Return: {user: <user>}
    Msg: Get a user, if authorized and the user is the retrieved user the devices token
      fields are included, otherwise empty
  DELETE /users/{name}:
    Auth: required
    Return: {user: <user>}
    Msg: Deletes the user, authorized user must be the user being deleted
  PATCH /users/{name}:
    Data: [password]
    Auth: Required
    Return: {user: <user>}
    Msg: Update user data, authorized user must be the user being updated
  GET /users/{name}/devices:
    Auth: optional
    Return: {devices: [<device>, ...]}
    Msg: Return a users devices, if authorized and the user is the retrieved user the
      devices token fields are included, otherwise empty
  POST /users/{name}/devices:
    Data: <name>
    Auth: required
    Return: {device: <device>}
    Msg: Create a new device for the user, authorization must be for the user
  GET /users/{username}/devices/{name}:
    Auth: optional
    Return: {device: <device>}
    Msg: Get a users device, if authorized and the user is the retrieved user the
      device token field is included, otherwise empty
  DELETE /users/{username}/devices/{name}:
    Auth: required
    Return: {device: <device>}
    Msg: Delete a users device, authorization must be for the user
  PATCH /users/{username}/devices/{name}:
    Data: <name>
    Auth: required
    Return: {device: <device>}
    Msg: Update a users device data, authorization must be for the user

Response Data:
  user: {name: '', devices: [<device>, ...]}
  device: {name: '', token: ''}

Backend Data:
  "user:<name>" -> name <name> password <password>
    Hash of users data
  "user:<name>:devices" -> [<name>, ...]
    Set of users device names
  "user:<name>:device:<name>" -> name <name> token <token> user <name>
    Hash of a users device data
  "token:<token>" -> device <name> user <name>
    Hash of a tokens device name and user name
